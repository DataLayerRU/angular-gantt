{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","dom","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","taskHasBeenMovedFromAnotherRow","foregroundElement","task","getForegroundElement","contentElement","getContentElement","onPressEvents","evt","preventDefault","getTouch","taskMovable","model","rowMovable","enabledValue","firstProperty","isFunction","taskOffsetX","getOffsetForElement","x","mode","getMoveMode","getButton","bodyOffsetX","enableMoveMode","$digest","onMousemove","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","ganttBody","querySelectorAll","targetRowElement","findElementFromPoint","clientY","hasClass","targetRow","rows","i","l","length","sourceRow","undefined","disabled","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","backgroundElement","getBackgroundElement","addClass","moveBegin","resizeBegin","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","isResizing","factory"],"mappings":"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"}